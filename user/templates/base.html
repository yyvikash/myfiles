{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}myfiles - File Converter & Manager{% endblock %}</title>

  <meta name="description"
    content="{% block meta_description %}Upload, convert and manage your files securely using myfiles - fast, safe, and free.{% endblock %}">
  <meta name="keywords"
    content="myfiles, file converter, pdf converter, image converter, image resizer, file compressor, image compressor, JPG to PDF, PDF to JPG, PNG to JPG, compress PDF, convert DOCX, online converter, secure file upload, file manager, ilovepdf, i love pdf, online tools, smart file converter, file sharing, resize images online, reduce pdf size, compress image size">

  <meta name="author" content="Vikash Kumar">
  <meta name="robots" content="index, follow">
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">

  <!-- Font Awesome CSS (locally hosted) -->
  <link rel="stylesheet" href="{% static 'fontawesome/css/all.min.css' %}">

  <!-- Custom Styles -->
  <!-- <link rel="stylesheet" href="{% static 'css/styles.css' %}"> -->

  <!-- Optional Google Font (if you want modern text style) -->
  <!-- <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet"> -->

  <!-- Additional CSS for animations and hover effects -->
  <style>
    .icon-hover:hover {
      transform: scale(1.2);
      color: #0d6efd !important;
      transition: all 0.3s ease-in-out;
    }

    .card-hover:hover {
      transform: scale(1.03);
      box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
      transition: all 0.3s ease;
    }

    /* Optional smooth fade-in for body */
    /* body {
      animation: fadeIn 0.5s ease-in-out;
    } */

    .navbar-dark .navbar-nav .nav-link:hover {
      color: #0d6efd;
      transition: color 0.3s ease;
    }


    @keyframes fadeIn {
      from {
        opacity: 0;
      }

      to {
        opacity: 1;
      }
    }
  </style>
</head>

<body class="bg-light">

  {% include "navbar.html" %}

  <div class="container-fluid mt-1 p-0">
    {% block content %}{% endblock %}
  </div>

  {% include 'footer.html' %}

  <!-- Toast message for uploading the file in database -->
  {% if upload_success is not None %}
  <div class="position-fixed bottom-0 end-0 p-3 z-3" style="z-index: 9999">
    <div id="uploadToast"
      class="toast align-items-center text-white {% if upload_success %}bg-success{% else %}bg-danger{% endif %} border-0 show"
      role="alert">
      <div class="d-flex">
        <div class="toast-body">
          {% if upload_success %}
          <i class="fa-solid fa-circle-check fa-beat-fade me-2"></i> File uploaded successfully!
          {% else %}
          <i class="fa-solid fa-triangle-exclamation fa-shake me-2"></i> File must be under 30 MB.
          {% endif %}
        </div>
        <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"
          aria-label="Close"></button>
      </div>
    </div>
  </div>
  <script>
    setTimeout(() => {
      const toastEl = document.getElementById('uploadToast');
      if (toastEl) new bootstrap.Toast(toastEl).hide();
    }, 3000);
  </script>
  {% endif %}


<!-- ðŸ“¤ Upload Modal -->
<div class="modal fade" id="uploadModal" tabindex="-1" aria-labelledby="uploadModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content shadow-lg">
      <form method="POST" enctype="multipart/form-data" action="{% url 'upload_file' %}">
        {% csrf_token %}
        <div class="modal-header bg-primary text-white">
          <h5 class="modal-title" id="uploadModalLabel"><i class="fas fa-cloud-upload-alt me-2"></i> Upload a File</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>

        <div class="modal-body">
          <!-- File input -->
          <div class="mb-3">
            <label for="fileInput" class="form-label fw-bold">Select File <span class="text-danger">*</span></label>
            <input class="form-control" type="file" id="fileInput" name="file" required>
            <div class="form-text text-muted">Max file size: 30MB</div>
          </div>

          <!-- Description input -->
          <div class="mb-3">
            <label for="descInput" class="form-label fw-bold">Description</label>
            <textarea class="form-control" id="descInput" name="description" rows="3"
              placeholder="Optional: Add file description..."></textarea>
          </div>

          <!-- Info Alert -->
          <div class="alert alert-info small d-flex align-items-center" role="alert">
            <i class="fas fa-info-circle me-2"></i>
            Your file name and type will be automatically detected.
          </div>
        </div>

        <div class="modal-footer d-flex justify-content-between">
          <button type="submit" class="btn btn-success">
            <i class="fas fa-upload me-1"></i> Upload
          </button>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
            Cancel
          </button>
        </div>
      </form>
    </div>
  </div>
</div>


  <!-- Bootstrap Bundle JS -->
  <script src="{% static 'js/bootstrap.bundle.js' %}"></script>

  <script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>
</body>

</html>